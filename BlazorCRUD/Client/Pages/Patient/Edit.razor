@page "/patient/edit/{patientId:int}"
@inject HttpClient http
@inject NavigationManager navigate


<h3>Edit</h3>

<PatientForm ButtonText="Edit Patient" Patient="@patient"
             OnValidSubmit="@EditPatient" />

@code {
    [Parameter] 
    public int patientId { get; set; }
    Patient patient = new Patient();

    protected async override Task OnParametersSetAsync()
    {
        patient = await http.GetJsonAsync<Patient>($"api/patient/{patientId}");
    }

    async Task EditPatient()
    {
        await http.PutJsonAsync("api/patient", patient);
        navigate.NavigateTo("patient");
    }
}




